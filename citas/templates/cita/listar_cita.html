{% extends 'login/vista_principal.html' %}

{% block titulo %}
Listado de Citas
{% endblock titulo %}
{% load static %}
{% block extra_css %}

<link
    rel="stylesheet"
    href="/static/css/lib/datatable/dataTables.bootstrap.min.css"
></link>

<link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.4.0/fullcalendar.css"
></link>

<link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha.6/css/bootstrap.css"
></link>

<link
    rel="stylesheet"
    href="/static/fullcalendar/lib/main.css"
></link>

{% endblock extra_css %}
{% block body %}

<div class="col-auto mb-4 mb-md-0">
    <p class="pt-2">
        <strong>Listado de Citas</strong>
    </p>
</div>

<div
    id="calendar"
    class="card"
    style="padding: 20px;"
></div>

{% endblock body %}
{% block extrajs %}

<script src="/static/js/lib/data-table/dataTables.bootstrap.min.js"></script>
<script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
<script src="/static/fullcalendar/lib/main.js"></script>
<script src="/static/fullcalendar/lib/locales-all.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.4.0/fullcalendar.min.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', function(){
        var calendarUI = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarUI,{
            headerToolbar: {
                left: 'prev,next today',
                center: "title"
            },
            events: [
                {% for Citas  in object_list %}
                    {
                        title : "{{Citas.paciente}}",
                        doctor : "{{Citas.doctor}}",
                        tratamiento : "{{Citas.tratamiento}}",
                        start : "{{Citas.fecha| date:'Y-m-d'}}",
                        end : "{{Citas.fecha| date:'Y-m-d'}}",
                        url: 'http://google.com/
         
        });
        calendar.render();
        calendar.setOption('locale','es');
 
    });
</script>

{% endblock extrajs %}